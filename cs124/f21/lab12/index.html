<!DOCTYPE html>
<html>
<head>
<title>CS124, Fall 2021, Lab 12</title>
<link rel="stylesheet" type="text/css" media="screen" href="../labs_screen.css">
<link rel="stylesheet" type="text/css" media="print" href="../labs_print.css">
<style>
   code {
      font-weight: bold;
      font-family: monospace;
      color: #077;
   }
   .letterbtn {
       width: 50px;
       padding: 0;
   }
</style>
<script src="hangman-obfuscated.js"></script>
</head>
</body>

<div class="content">

<h2>CS 124, Fall 2021<br>
Lab 12: Hangman GUI</h2>

<div class="intro">

<p>For the remaining labs in this course, you will work on a GUI Hangman game,
or possibly on some other final project that you choose yourself.  The
final project was discussed in <a href="../lab8/index.html">lab8.html</a>.
Working on Hangman is fine &mdash; but if you would like to do something
else, you should discuss it with me before starting.</p>



<p>The rest of this web page is for people who are working on Hangman.
You should create a new class named <i>Hangman</i> or <i>HangmanGUI</i>.  You will be
writing this class from scratch.  In this lab, you will work on the graphical user
interface for your program.  You will continue to work on the project for the
next two labs.  You can look ahead at <a href="part2.html">Part&nbsp;2</a>
and <a href="part3.html">Part&nbsp;3</a> of the project.</p>


<p><b>The completed program is due at 3:00 PM on the last day of class, Friday, December&nbsp;3, and will
only be accepted late for extraordinary reasons.</b></p>

<p>Teaching Fellows schedule for the rest of the semester:  There will be no Teaching Fellows hours from
Sunday, November 21 through Sunday, November 28.  Teaching Fellows hours will resume Monday, November 29.
The last day for Teaching Fellows will be Thursday, December&nbsp;2.</p>

</div>



<div class="section">

<h3>About Hangman</h3>

<p><img src="hanged.png" width="223" height="256" align=right hspace=5 vspace=8 border=1>
Hangman is a simple word-guessing game.  You worked on a command-line version of the
game in <a href="../lab5/index.html">Lab&nbsp;5</a>.  However, a GUI version is a different sort of
program since it has to be driven by events generated by user actions.</p>

<p>The basic idea of the two versions is similar: At the start of a game, the computer
selects a random word that the user has to guess.  Initially, each letter in the word
is shown as an empty space.  The user guesses letters.  When the user guesses a letter which
is part of the word, that letter is filled in; it is filled in at every space where it occurs
in the word, not just one space.  The game ends when the user runs out of guesses or when
the user has guessed all the letters in the word.</p>

<p>But in the GUI version, the letters are drawn on the computer screen, rather than
output with <i>System.out.println</i>().  Any messages that the computer wants to display to
the user have to be either drawn on a canvas or placed into a <i>Label</i>.
When the user guesses a letter that is not in the word, a part
of a "hanged man" is drawn.  If the hanged man is completed before the user finds all the
letters in the word, the user loses.  The picture at the right shows an example.  The hanged
man here is complete.  In my version of the game, I start with the scaffold already drawn,
and the user gets 7 incorrect guesses.  For the first incorrect guess, I draw the man's head;
for the second, the neck; and then the left arm, right arm, body, left leg, and right leg.</p>

<p>Here is a GUI version of Hangman that runs on a Web page.  It's written in JavaScript
rather than Java, but your Java program should behave in a similar way.  To play, click
the letter buttons:</p>

<table cellspacing=0 border=0 cellpadding=0 align=center>
<tr>
   <td><button class="letterbtn" id="btnA">A</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnB">B</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnC">C</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnD">D</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnE">E</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnF">F</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnG">G</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnH">H</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnI">I</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnJ">J</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnK">K</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnL">L</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnM">M</button class="letterbtn"></td>
</tr>
<tr>
   <td><button class="letterbtn" id="btnN">N</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnO">O</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnP">P</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnQ">Q</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnR">R</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnS">S</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnT">T</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnU">U</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnV">V</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnW">W</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnX">X</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnY">Y</button class="letterbtn"></td>
   <td><button class="letterbtn" id="btnZ">Z</button class="letterbtn"></td>
</tr>
<tr>
   <td colspan=13><canvas id="canvas" width="650" height="420"
      style="display: inline-block; border: 2px solid black"></canvas></td>
</tr>
<tr>
   <td align=center colspan=13><button id="next">Next Word</button> <button id="cheat">Cheat (free letter)</button></td>
</tr>
</table>


</div>

<div class="section" style="clear:both">

<h3>About Layout, Etc.</h3>

<p>You will have to design a user interface for Hangman (or whatever program you write).
The game will require 26 buttons, one for each letter of the alphabet, as well as a
<i>Canvas</i> where you can draw the hanged man.  You will also need other components or
a menu bar or both.  You will need to "lay out" all these components in a main <i>BorderPane</i>.
Some of the techniques that you need were covered in the GUI Tutorial, <a href="../lab10/index.html">Lab&nbsp;10</a>.
Note in particular that Lab&nbsp;10  shows how to use a canvas for drawing in a <i>BorderPane</i>,
with other components in the top and bottom positions of the pane.  (It is also possible to place compenents in
the left and right positions of a BorderPane.)  We will
also talk about layout in class, and you can read about it in 
<a href="http://math.hws.edu/javanotes/c6/s5.html">Section&nbsp;6.5</a>.  But
here are a few things you might use in this program.</p>

<p>To hold the 26 alphabet buttons, I used a <i>GridPane</i> with two rows. Each row contains thirteen buttons.
To use a <i>GridPane</i>, you can create it with the constructor <i>new&nbsp;GridPane</i>() and then
add each button in a specified row and column.  Here is how I added the n-th letter button to the grid:</p>

<pre class=code>
button.setPrefWidth(650/13);
letterGrid.add(button,n%13,n/13);
</pre>

<p class=np>The goal was to have a pane that is 650 pixels wide, to match the size of
my canvas.  The command <i>button.setPrefWidth</i>(650/13) sets the "preferred width" of the
button to be 650/13 pixels.  The <i>GridPane</i> will be sized to show all the buttons
that it contains at their preferred size, so this line determines the size of the
<i>GridPane</i>.  In the next line, <i>letterGrid.add</i>(<i>button</i>,<i>n</i>%13,<i>n</i>/13), <i>letterGrid</i>
is the <i>GridPane</i>.  The parameters specify the component that is to be added to the grid
and the column number and row number where it is to be placed in the grid.  Here, <i>n</i>
is between 0 and 25, so the column number, <i>n</i>%13, is between 0 and 12, and the 
row number, <i>n</i>/13, is either 0 or&nbsp;1. You can see what it looks like in the picture
of the game, below.  You don't have to do exactly the same thing.  If your program has
 a menubar, for example, you might put the buttons below the canvas, or on the side.</p>
 
 <p align=center class=np><img src="hangman.jpg" width=429 height=342
    style="background-color: white; padding: 8px; border: thin solid black"></p>



<p>You will need to know more about buttons.  You can read about them in 
<a href="http://math.hws.edu/javanotes/c6/s4.html">Section&nbsp;6.4</a>.
Note in particular that <i>button.setDisable</i>(<i>true</i>) will
disable the button (so the user can't click it), and
<i>button.setDisable</i>(<i>false</i>) will re-enable it.
And <i>button.setOnAction</i> is used to specify an event handler for the
event that is generated when the user clicks the button.  You can write
just one event handler method that will work for all of the letter buttons.
It will just need to know which button was clicked.  You should be
able to do something like this:</p>

<pre class=code>
button.setOnAction( e -> doLetterButton(button) );
</pre>

<p class=np>In the event handler, you will need to know what letter was clicked.
You can get the text from the button by calling <i>button.getText</i>(), and
the letter on the button would then be <i>button.getText</i>().<i>charAt</i>(0).</p>

<p>My program has three more buttons, below the canvas.  For layout, I put the buttons in an
<i>HBox</i>, with its alignment set to <i>Pos.CENTER</i>, and added the <i>HBox</i> to the
bottom of the main <i>BorderPane</i>.  An <i>HBox</i> was used in <a href="../lab10/index.html">Lab&nbsp;10</a>,
and you can read about <i>HBox</i>
in <a href="http://math.hws.edu/javanotes/c6/s5.html#GUI1.5.3">Subsection&nbsp;6.5.3</a>.</p>



</div>


<div class="section">

<h3>Part 1: The GUI</h3>

<p>The assignment for this week is to create the GUI for your program and test that
it is working correctly.  In <a href="part2.html">Part&nbsp;2</a>, you will implement the actual logic of the game.</p>

<p>Your first task is to design and set up the GUI for your program and test that
it is working correctly.  You can start implementing the actual logic of the game after
the GUI is mostly in place.  Refer back to <a href="../lab10/index.html">Lab&nbsp;10</a> for
help on getting started.</p>

<p>For your Hangman game, you are <b>required</b> to have 26 buttons representing the letters of
the alphabet.  The user will select a letter by clicking one of the buttons.  Furthermore,
you must disable the button when the user clicks it, so that they can't choose the same 
letter again.  After the user finishes with one word, the user must be able to begin a new
game with a new word.  At that time, all the letter buttons will have to be enabled again&mdash;this means that
you will need to keep references to the alphabet buttons in an array of <i>Buttons</i>, so
that you can loop through the entire array when you need to enable or disable all the 
letter buttons.</p>

<p>You are <b>required</b> to
draw the hanged man, step-by-step, as the user makes incorrect guesses.  You are <b>required</b> to
display information to the user about the progress of the game, such as a message saying that
the user's letter does or does not occur in the word.  You are <b>required</b> to show all the the guessed letters
in the word, with some indication of the blank spaces that have not yet been guessed.
And you are <b>required</b> to have extra buttons and/or menu items for starting a new game and
for quitting the program.</p>

<p>You should begin by setting up the user interface, with all the panes, buttons, etc., that your
program needs.  You should write event-handler methods to respond to the buttons and to menu commands if you use them,
but you don't need tor write all the code inside the event-handling methods in this part of the project.
For this lab, to test that the event handlers are properly installed, you might 
print a message in the event handler to show that it is functional.  You might want to
implement the disabling of 
the alphabet buttons when they are clicked, and you might want to start writing a <i>newGame</i>
method that will eventually, among other things, re-enable all the alphabet buttons and select a new word.  You will want to make sure
that you can draw the hanged man for all stages of the game. Remember that what you draw at any given time
will depend on the number of incorrect guesses.</p>

<p>Remember that there are two ways to manage drawing in a canvas:  You can either have a <i>draw</i>() method 
that redraws the entire
canvas every time the state of the game changes, or you can try to make changes to the picture in the
canvas whenever the state changes.  Although I prefer the first approach, either can be made to work.</p>

<p>You need some way to display the word to the user, most likely by
drawing the characters of the word in a <i>draw</i>() method if you are using the first strategy.
But another option might be to  to show the word in a <i>Label</i>.
Similarly, you want to be able to show messages about the progress of the game
to the user.  One way to do that is to have one or more instance variables of type <i>String</i>
to hold messages, and to draw those strings on the canvas in the <i>draw</i>() method.
To change a message, the program can set the value of the corresponding instance variable and call <i>draw</i>().
If you are using the second strategy for managing the picture in the canvas, you will have to
erase the previous message before you can draw the new one.</p>



</div>



</div>
</body>
</html>
